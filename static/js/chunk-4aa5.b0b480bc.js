(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4aa5"],{"1a2c":function(e,t,i){},"66c0":function(e,t,i){"use strict";var o=i("1a2c"),a=i.n(o);a.a},a78e:function(e,t,i){var o,a;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(n){var s=!1;if(o=n,a="function"===typeof o?o.call(t,i,t,e):o,void 0===a||(e.exports=a),s=!0,e.exports=n(),s=!0,!s){var r=window.Cookies,l=window.Cookies=n();l.noConflict=function(){return window.Cookies=r,l}}})(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var o in i)t[o]=i[o]}return t}function t(i){function o(t,a,n){var s;if("undefined"!==typeof document){if(arguments.length>1){if(n=e({path:"/"},o.defaults,n),"number"===typeof n.expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*n.expires),n.expires=r}n.expires=n.expires?n.expires.toUTCString():"";try{s=JSON.stringify(a),/^[\{\[]/.test(s)&&(a=s)}catch(e){}a=i.write?i.write(a,t):encodeURIComponent(String(a)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var l="";for(var c in n)n[c]&&(l+="; "+c,!0!==n[c]&&(l+="="+n[c]));return document.cookie=t+"="+a+l}t||(s={});for(var d=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,p=0;p<d.length;p++){var m=d[p].split("="),g=m.slice(1).join("=");this.json||'"'!==g.charAt(0)||(g=g.slice(1,-1));try{var f=m[0].replace(u,decodeURIComponent);if(g=i.read?i.read(g,f):i(g,f)||g.replace(u,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(e){}if(t===f){s=g;break}t||(s[f]=g)}catch(e){}}return s}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,i){o(t,"",e(i,{expires:-1}))},o.withConverter=t,o}return t(function(){})})},c93e:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var o=i("a322");function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),a.forEach(function(t){Object(o["a"])(e,t,i[t])})}return e}},dd7b:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"login-top"},[i("div",{staticClass:"login-top-logo",staticStyle:{position:"relative"}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.logo,expression:"logo"}],staticStyle:{position:"absolute",top:"0",display:"block",width:"100%",height:"100%"},attrs:{src:e.logo.logo}})]),i("p",{directives:[{name:"show",rawName:"v-show",value:e.logo,expression:"logo"}],staticClass:"login-top-title"},[e._v(e._s(e.logo.proj_name))])]),i("div",{staticClass:"login-mid"},[i("form",{staticClass:"form-wrapper",attrs:{autocomplete:"off",method:"POST",id:"login-formWrapper"}},[i("div",{staticClass:"login-mid-form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.UserPhone,expression:"UserPhone"}],staticClass:"text-input",attrs:{type:"tel",name:"username",maxlength:"60",placeholder:"请输入手机号",value:"",id:"mobile"},domProps:{value:e.UserPhone},on:{input:function(t){t.target.composing||(e.UserPhone=t.target.value)}}})]),i("div",{staticClass:"login-mid-form login-mid-form-code"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.ValidateCode,expression:"ValidateCode"}],staticClass:"text-input-code",staticStyle:{"margin-left":"0"},attrs:{type:"tel",id:"img_validate_code",name:"verifycode",value:"",placeholder:"请输入验证码",autocomplete:"off",maxlength:"6"},domProps:{value:e.ValidateCode},on:{input:function(t){t.target.composing||(e.ValidateCode=t.target.value)}}}),i("Button",{staticStyle:{float:"right",display:"inline-block","margin-top":".3rem",border:"none","font-size":"0.28rem"},on:{click:e.godo_code}},[e._v(e._s(e.time))])],1),i("div",{staticClass:"login-box"},[i("div",{staticClass:"login",on:{click:e.godo_login}},[e._v("登录")])])])]),e._m(0),e.loading?i("div",{attrs:{id:"loadingToast"}},[i("div",{staticClass:"weui-mask_transparent"}),i("div",{staticClass:"weui-toast"},[i("i",{staticClass:"weui-loading weui-icon_toast"}),i("p",{staticClass:"weui-toast__content"},[e._v(e._s(e.loading))])])]):e._e(),e.tip_msg?i("div",{staticClass:"js_dialog",attrs:{id:"iosDialog2"}},[i("div",{staticClass:"weui-mask"}),i("div",{staticClass:"weui-dialog"},[i("div",{staticClass:"weui-dialog__bd"},[e._v(e._s(e.tip_msg))]),i("div",{staticClass:"weui-dialog__ft"},[i("a",{staticClass:"weui-dialog__btn weui-dialog__btn_primary",attrs:{href:"javascript:;"},on:{click:function(t){e.tip_msg=""}}},[e._v("知道了")])])])]):e._e()])},a=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("p",{staticClass:"login-hint"},[e._v("点击登录，即代表已阅读并同意"),i("span",[e._v("《好时光影院相关条例》")])])}],n=i("c93e"),s=i("a78e"),r=i.n(s),l=i("5880"),c={data:function(){return{loading:"",login:!1,tip_msg:"",UserPhone:"",ValidateCode:"",time:"获取验证码",num:"",apid:"",logo_img:""}},beforeRouteEnter:function(e,t,i){document.title="用户登录",i()},created:function(){this.apid=this.$route.params.apid},computed:Object(n["a"])({},Object(l["mapState"])(["logo"])),methods:{back:function(){router.go(-1)},showTip:function(e,t){var i=this;i.tip_msg=e,t&&(clearTimeout(window.maxtm),window.maxtm=setTimeout(function(){i.tip_msg=""},t))},showlogin:function(e,t){var i=this;i.loading=e,t&&(clearTimeout(window.maxtm),window.maxtm=setTimeout(function(){i.loading=""},t))},godo_code:function(){var e=this,t=e.UserPhone,i=/^[1][3,4,5,7,8,9][0-9]{9}$/;if(i.test(t)){e.ValidateCode="",e.showlogin("正在发送验证码",1e3);var o="/general_api/api/MessageCode?p="+t+"&ts="+Date.parse(new Date);fetch(o).then(function(e){return e.json()}).then(function(t){t.available?(e.loading=!1,e.num=6e4,e.daojishi(e.num)):(e.loading=!1,e.showTip(t.messages[0]))})}else e.showTip("请输入正确的手机号")},daojishi:function(e){var t=this;if(0!=t.num){var i=e/1e3;t.time=i+" S",t.num=e,setTimeout(function(){e-=1e3,t.daojishi(e)},1e3)}else{var o="发送验证码";t.time=o}},godo_login:function(){var e=this,t=this,i=t.UserPhone,o=t.ValidateCode,a=r.a.get("_lac_ap_"),n="/general_api/api/Login?p="+i+"&code="+o+"&apid="+a+"&ts="+Date.parse(new Date),s=weui.loading("加载中");fetch(n).then(function(e){return e.json()}).then(function(i){s.hide(),i.available?(r.a.set("_lac_k_",i.data),e.$router.go(-1),t.showlogin("登录成功，正在跳转回之前页面",1e3)):t.showTip(i.messages[0])}),t.login=!1}}},d=c,u=(i("66c0"),i("2877")),p=Object(u["a"])(d,o,a,!1,null,null,null);t["default"]=p.exports}}]);