(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e70f"],{"028e":function(t,e,n){"use strict";var a=n("2fd2"),i=n.n(a);i.a},"2fd2":function(t,e,n){},4116:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-tab"},[n("a",{staticClass:"store",attrs:{href:"javascript:void(0)","data-status":"store"===t.active?"active":""},on:{click:t.store}},[n("div",{staticClass:"icon"})]),n("a",{staticClass:"movie",attrs:{href:"javascript:void(0)","data-status":"movie"===t.active?"active":""},on:{click:t.movie}},[n("div",{staticClass:"icon"})]),n("a",{staticClass:"cinema",attrs:{href:"javascript:void(0)","data-status":"cinema"===t.active?"active":""},on:{click:t.cinema}},[n("div",{staticClass:"icon"})]),n("a",{staticClass:"mine",attrs:{href:"javascript:void(0)","data-status":"mine"===t.active?"active":""},on:{click:t.mine}},[n("div",{staticClass:"icon"})])])},i=[],o=(n("cadf"),n("551c"),n("a78e")),s=n.n(o),c={props:{active:{type:String,default:""}},methods:{movie:function(){this.$router.push({name:"index",params:{mid:"2"}})},store:function(){this.$router.push({name:"storeList"})},cinema:function(){this.$router.push({name:"cinemaList",params:{mid:"2"}})},mine:function(){var t=s.a.get("_lac_k_");if(t)this.$router.push({name:"personalCenter"});else{var e=s.a.get("_lac_ap_");e?this.$router.push({name:"login",params:{apid:e}}):location.href="/general_api/h5/wx/auth?type=base&"+(new Date).getTime()}}}},r=c,l=(n("a13f"),n("2877")),u=Object(l["a"])(r,a,i,!1,null,"21601724",null);e["a"]=u.exports},5922:function(t,e,n){},a13f:function(t,e,n){"use strict";var a=n("5922"),i=n.n(a);i.a},a78e:function(t,e,n){var a,i;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */(function(o){var s=!1;if(a=o,i="function"===typeof a?a.call(e,n,e,t):a,void 0===i||(t.exports=i),s=!0,t.exports=o(),s=!0,!s){var c=window.Cookies,r=window.Cookies=o();r.noConflict=function(){return window.Cookies=c,r}}})(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}function e(n){function a(e,i,o){var s;if("undefined"!==typeof document){if(arguments.length>1){if(o=t({path:"/"},a.defaults,o),"number"===typeof o.expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*o.expires),o.expires=c}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(i),/^[\{\[]/.test(s)&&(i=s)}catch(t){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var r="";for(var l in o)o[l]&&(r+="; "+l,!0!==o[l]&&(r+="="+o[l]));return document.cookie=e+"="+i+r}e||(s={});for(var u=document.cookie?document.cookie.split("; "):[],m=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var d=u[p].split("="),f=d.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var v=d[0].replace(m,decodeURIComponent);if(f=n.read?n.read(f,v):n(f,v)||f.replace(m,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(t){}if(e===v){s=f;break}e||(s[v]=f)}catch(t){}}return s}}return a.set=a,a.get=function(t){return a.call(a,t)},a.getJSON=function(){return a.apply({json:!0},[].slice.call(arguments))},a.defaults={},a.remove=function(e,n){a(e,"",t(n,{expires:-1}))},a.withConverter=e,a}return e(function(){})})},c40d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"details-bg"}),n("div",{staticClass:"mine-top-box"},[n("div",{staticClass:"mine-top"},[n("div",{staticClass:"mine-top-img"},[n("img",{staticStyle:{border:".04rem solid #f2f2f2"},attrs:{src:""==t.account.head||null==t.account.head?"http://pe1s.static.pdr365.com/touxiang.png":t.account.head}})]),n("div",{staticClass:"mine-top-nm"},[n("p",[t._v(t._s(""==t.account.nickname||null==t.account.nickname?"默认昵称":t.account.nickname))])]),n("div",{staticClass:"mine-top-material",on:{click:t.godo_modified}},[t._v("资料")])]),n("div",{staticClass:"mine-top-menu"},[n("ul",{staticClass:"mine-top-menu-ul"},[n("li",{staticClass:"mine-top-menu-list",staticStyle:{width:"50%"},on:{click:t.godo_myCards}},[n("p",{staticClass:"mine-top-menu-list-num"},[t._v(t._s(t.balance))]),n("p",{staticClass:"mine-top-menu-list-nm"},[t._v("余额")])]),n("li",{staticClass:"mine-top-menu-list",staticStyle:{display:"none"},on:{click:t.godo_myIntegral}},[n("p",{staticClass:"mine-top-menu-list-num"},[t._v(t._s(t.Intergral))]),n("p",{staticClass:"mine-top-menu-list-nm"},[t._v("积分")])]),n("li",{staticClass:"mine-top-menu-list",staticStyle:{width:"50%"},on:{click:t.godo_coupons}},[n("p",{staticClass:"mine-top-menu-list-num"},[t._v(t._s(t.Coupons))]),n("p",{staticClass:"mine-top-menu-list-nm"},[t._v("优惠券")])])])])]),n("div",{staticClass:"mine-mid-menu"},[n("div",{staticClass:"mine-mid-menu-top"},[n("div",{staticClass:"mine-mid-menu-top-list",on:{click:t.godo_myCards}},[n("img",{staticStyle:{height:".4rem","margin-top":".25rem"},attrs:{src:"http://pe1s.static.pdr365.com/tencent/icon/card_icon.png"}}),n("p",[t._v("会员卡")]),t._m(0)]),n("div",{staticClass:"mine-mid-menu-top-list",on:{click:t.godo_myTicket}},[n("img",{staticStyle:{width:"0.37rem",height:"0.4rem","margin-top":".25rem"},attrs:{src:"http://pe1s.static.pdr365.com/tencent/icon/order_icon.png"}}),n("p",[t._v("订单中心")]),t._m(1)])])]),t.loading?n("div",{attrs:{id:"loadingToast"}},[n("div",{staticClass:"weui-mask_transparent"}),t._m(2)]):t._e(),"scan"!==t.tabShow?n("tabBottom",{attrs:{active:"mine"}}):t._e()],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bm-list-arrow"},[n("span",{staticClass:"bm-icon arrow vertical"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bm-list-arrow"},[n("span",{staticClass:"bm-icon arrow vertical"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"weui-toast"},[n("i",{staticClass:"weui-loading weui-icon_toast"}),n("p",{staticClass:"weui-toast__content"},[t._v("加载中")])])}],o=n("a78e"),s=n.n(o),c=n("4116"),r={data:function(){return{loading:!0,account:"",balance:0,Coupons:0,Intergral:0,tabShow:""}},beforeRouteEnter:function(t,e,n){document.title="个人中心",n()},created:function(){this.GetAccount()},mounted:function(){this.tabShow=this.$route.params.st},methods:{GetAccount:function(){var t=this,e=this,n=s.a.get("_lac_k_"),a="/general_api/api/auth/GetAccount?token="+n+"&ts="+Date.parse(new Date);fetch(a).then(function(t){return t.json()}).then(function(a){if(console.log(a),console.log("token="+n),a.available)e.account=a.data,t.GetAccountCard(),t.GetCoupons();else{var i=s.a.get("_lac_ap_");i?n||t.$router.push({name:"login",params:{apid:i}}):location.href="/general_api/h5/wx/auth?type=base&"+(new Date).getTime()}e.loading=!1})},GetAccountCard:function(){var t=this,e=s.a.get("_lac_k_"),n="/general_api/api/auth/GetAccountCard?token="+e+"&ts="+Date.parse(new Date);fetch(n).then(function(t){return t.json()}).then(function(e){e.available&&e.obj[0].balance&&(t.balance=e.obj[0].balance/100,t.Intergral=e.obj[0].point),t.loading=!1})},GetCoupons:function(){var t=this,e=s.a.get("_lac_k_"),n="/general_api/api/auth/GetAccountCoupns?token="+e+"&ts="+Date.parse(new Date);fetch(n).then(function(t){return t.json()}).then(function(e){console.log(e),"0"==e.code&&(t.loading=!1,null!=e.list&&(t.Coupons=e.list.length))})},back:function(){router.go(-1)},godo_coupons:function(){location.href="/general_api/tcss/index#/myCoupons"},godo_myTicket:function(){location.href="/general_api/tcss/index#/myTicket"},godo_myCards:function(){location.href="/general_api/tcss/index#/myCards"},godo_myIntegral:function(){this.$router.push({name:"myIntegral"})},godo_cinemas:function(){this.$router.push({name:"cinemaList",params:{mid:"2"}})},godo_goods:function(){location.href="/general_api/tcss/index#/storeList"},godo_index:function(){this.$router.push({name:"index"})},godo_modified:function(){this.$router.push({name:"modifiedData"})}},components:{tabBottom:c["a"]}},l=r,u=(n("028e"),n("2877")),m=Object(u["a"])(l,a,i,!1,null,null,null);e["default"]=m.exports}}]);